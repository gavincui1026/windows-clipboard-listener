# Admin 前端环境配置说明

## 后端地址配置

admin项目的后端地址在 `src/api.ts` 中配置：

```typescript
const api = axios.create({ baseURL: import.meta.env.VITE_API_BASE || 'http://localhost:8001' })
```

## 配置方法

### 方法1：使用环境变量文件（推荐）

1. 创建 `.env` 文件（注意：不要提交到git）：
   ```
   VITE_API_BASE=http://156.251.17.161:8001
   ```

2. 或者创建不同环境的配置文件：
   - `.env.development` - 开发环境
   - `.env.production` - 生产环境

### 方法2：运行时指定

```bash
# 开发模式
VITE_API_BASE=http://156.251.17.161:8001 npm run dev

# 构建时
VITE_API_BASE=http://156.251.17.161:8001 npm run build
```

### 方法3：修改默认值

直接修改 `src/api.ts` 中的默认值：
```typescript
const api = axios.create({ baseURL: import.meta.env.VITE_API_BASE || 'http://156.251.17.161:8001' })
```

## 生产部署

构建生产版本：
```bash
# 设置生产环境API地址
echo "VITE_API_BASE=http://your-production-server:8001" > .env.production

# 构建
npm run build

# 构建结果在 dist 目录
```

## 注意事项

1. 以 `VITE_` 开头的环境变量才会暴露给客户端代码
2. `.env` 文件不应该提交到版本控制
3. 生产环境建议使用 HTTPS

## 开发服务器配置

在 `vite.config.ts` 中已配置允许所有域名访问：

```typescript
server: {
  host: true  // 允许所有域名访问
}
```

如需限制特定域名，可以修改为：

```typescript
server: {
  allowedHosts: ['clickboardlsn.top', '.clickboardlsn.top', 'localhost']
}
```
